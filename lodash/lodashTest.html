<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>lodash_test</title>
    <script src="lodash.min.js"></script>
</head>

<body>
</body>
<script>
var users = [{
    'user': 'barney',
    'age': 36
}, {
    'user': 'fred',
    'age': 40
}, {
    'user': 'pebbles',
    'age': 18
}];
/*1.获取所有用户名字，并以”，“分割*/
var names = _.chain(users)
    .map(function(user) {
        return user.user;
    })
    .join(" , ")
    .value();
// 或者
// var names = _(users).map('user').join(' , ');
console.log(names);

/*2. 获取最年轻的用户*/
// 方法1
var youngest = _.chain(users)
    .min(function(user) {
        return user.age;
    })
    .value();
console.log(youngest);
// 方法2
// var youngest2 = _.chain(users)
//     .sortBy("age")
//     .map(function(user) {
//         console.log("map", user);
//         return user;
//     })
//     .first()
//     .value();
// console.log(youngest2);

// 3. 获取最年长的用户
var oldest = _.chain(users)
    .max(function(user) {
        return user.age;
    })
    .value();
console.log(oldest);

// 4. 用户数组到用户Map的转换
var userObj = _.chain(users)
  .map(function(user){
    return [user.user, user.age];
  })
  .zipObject()
  .value();
console.log(userObj);
</script>

</html>
